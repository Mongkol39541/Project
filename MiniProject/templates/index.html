{% extends "layout.html" %} {% block body %}

<div
  id="carouselExampleCaptions"
  class="carousel slide"
  data-bs-ride="carousel"
>
  <div class="carousel-indicators">
    <button
      type="button"
      data-bs-target="#carouselExampleCaptions"
      data-bs-slide-to="0"
      class="active"
      aria-current="true"
      aria-label="Slide 1"
    ></button>
    <button
      type="button"
      data-bs-target="#carouselExampleCaptions"
      data-bs-slide-to="1"
      aria-label="Slide 2"
    ></button>
    <button
      type="button"
      data-bs-target="#carouselExampleCaptions"
      data-bs-slide-to="2"
      aria-label="Slide 3"
    ></button>
  </div>
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="../static/tiger.jpg" class="d-block w-100" alt="..." />
      <div class="carousel-caption d-none d-md-block">
        <h5>First slide label</h5>
        <p>Some representative placeholder content for the first slide.</p>
      </div>
    </div>
    <div class="carousel-item">
      <img src="../static/robot.jpg" class="d-block w-100" alt="..." />
      <div class="carousel-caption d-none d-md-block">
        <h5>Second slide label</h5>
        <p>Some representative placeholder content for the second slide.</p>
      </div>
    </div>
    <div class="carousel-item">
      <img src="../static/Alien.jpg" class="d-block w-100" alt="..." />
      <div class="carousel-caption d-none d-md-block">
        <h5>Third slide label</h5>
        <p>Some representative placeholder content for the third slide.</p>
      </div>
    </div>
  </div>
  <button
    class="carousel-control-prev"
    type="button"
    data-bs-target="#carouselExampleCaptions"
    data-bs-slide="prev"
  >
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button
    class="carousel-control-next"
    type="button"
    data-bs-target="#carouselExampleCaptions"
    data-bs-slide="next"
  >
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>

<div class="p-3 bg-dark text-white">
  <div class="row row-cols-1 row-cols-md-2 g-4 my-1">
    <div class="col my-2">
      <div class="card rounded mx-auto d-block text-center" style="width: 100%">
        <img src="../static/โทรศัพท์.jpg" class="card-img-top" alt="..." />
        <div class="containgr text-danger">
          <br />
          <form action="/sendphone/{{statement.id}}" method="post">
            <input
              type="hidden"
              id="positive_resultphone"
              value="{{statement.positive_resultphone}}"
              name="positive_resultphone"
            />
            <input
              type="hidden"
              id="negative_resultphone"
              value="{{statement.negative_resultphone}}"
              name="negative_resultphone"
            />
            <div class="row">
              <label class="col order-first align-self-center"
                >หมายเลขโทรศัพท์</label
              >
              <input
                type="text"
                name="numberphone"
                class="form-control text-center col align-self-center"
              />
              <div class="col order-last">
                <div class="row row-cols-1 row-cols-md-2 g-1 my-1">
                  <div class="col my-2">
                    <input
                      class="btn btn-outline-danger"
                      type="submit"
                      value="ส่งข้อมูล"
                    />
                  </div>
                  <div class="col my-2">
                    <a
                      class="btn btn-outline-danger"
                      data-bs-toggle="collapse"
                      href="#multiCollapseExample1"
                      role="button"
                      aria-expanded="false"
                      aria-controls="multiCollapseExample1"
                      onclick="myFunction()"
                      >แสดงผล</a
                    >
                  </div>
                </div>
              </div>
            </div>
          </form>
          <br />
        </div>
      </div>
    </div>

    <div class="col my-2">
      <div
        class="collapse multi-collapse alert alert-danger"
        role="alert"
        id="multiCollapseExample1"
      >
        <h4 class="alert-heading">
          ทำนายโชคชะตาของผู้ใช้เบอร์ {{statement.phone}} เป็นประจำ
        </h4>
        <hr />
        <div class="row row-cols-1 row-cols-md-2 g-4 my-3">
          <div class="col my-3">
            <p class="mb-0">{{statement.mesphone}}</p>
          </div>
          <div class="col my-3">
            <canvas id="myChart_1"></canvas>
            <script>
              function myFunction() {
                const ctx_1 = document.getElementById("myChart_1");
                let positive = document.getElementById(
                  "positive_resultphone"
                ).value;
                let negative = document.getElementById(
                  "negative_resultphone"
                ).value;
                const myChart_1 = new Chart(ctx_1, {
                  type: "doughnut",
                  data: {
                    labels: ["ผลบวก", "ผลลบ"],
                    datasets: [
                      {
                        label: "# of Votes",
                        data: [positive, negative],
                        backgroundColor: [
                          "rgb(255, 99, 132)",
                          "rgb(54, 162, 235)",
                        ],
                        hoverOffset: 4,
                      },
                    ],
                  },
                });
              }
            </script>
            <h4 class="text-center my-3">
              น้ำหนักคำพยากรณ์ {{statement.positive_resultphone}} %
            </h4>
          </div>
        </div>
      </div>
    </div>

    <div class="col my-2">
      <div class="card rounded mx-auto d-block text-center" style="width: 100%">
        <img src="../static/รถยนต์.jpg" class="card-img-top" alt="..." />
        <div class="containgr text-danger">
          <br />
          <form action="/sendcar/{{statement.id}}" method="post">
            <input
              type="hidden"
              id="positive_resultcar"
              value="{{statement.positive_resultcar}}"
              name="positive_resultcar"
            />
            <input
              type="hidden"
              id="negative_resultcar"
              value="{{statement.negative_resultcar}}"
              name="negative_resultcar"
            />
            <div class="row">
              <label class="col order-first align-self-center"
                >ทะเบียนรถยนต์</label
              >
              <input
                type="text"
                name="numbercar"
                class="form-control text-center col align-self-center"
              />
              <div class="col order-last">
                <div class="row row-cols-1 row-cols-md-2 g-1 my-1">
                  <div class="col my-2">
                    <input
                      class="btn btn-outline-danger"
                      type="submit"
                      value="ส่งข้อมูล"
                    />
                  </div>
                  <div class="col my-2">
                    <a
                      class="btn btn-outline-danger"
                      data-bs-toggle="collapse"
                      href="#multiCollapseExample2"
                      role="button"
                      aria-expanded="false"
                      aria-controls="multiCollapseExample2"
                      onclick="myFunction_2()"
                      >แสดงผล</a
                    >
                  </div>
                </div>
              </div>
            </div>
          </form>
          <br />
        </div>
      </div>
    </div>

    <div class="col my-2">
      <div
        class="collapse multi-collapse alert alert-danger"
        role="alert"
        id="multiCollapseExample2"
      >
        <h4 class="alert-heading">
          ทำนายโชคชะตาของผู้ใช้ทะเบียน {{statement.car}} เป็นประจำ
        </h4>
        <hr />
        <div class="row row-cols-1 row-cols-md-2 g-4 my-3">
          <div class="col my-3">
            <p class="mb-0">{{statement.mescar}}</p>
          </div>
          <div class="col my-3">
            <canvas id="myChart_2"></canvas>
            <script>
              function myFunction_2() {
                const ctx_2 = document.getElementById("myChart_2");
                let positive =
                  document.getElementById("positive_resultcar").value;
                let negative =
                  document.getElementById("negative_resultcar").value;
                const myChart_2 = new Chart(ctx_2, {
                  type: "doughnut",
                  data: {
                    labels: ["ผลบวก", "ผลลบ"],
                    datasets: [
                      {
                        label: "# of Votes",
                        data: [positive, negative],
                        backgroundColor: [
                          "rgb(255, 99, 132)",
                          "rgb(54, 162, 235)",
                        ],
                        hoverOffset: 4,
                      },
                    ],
                  },
                });
              }
            </script>
            <h4 class="text-center my-3">
              น้ำหนักคำพยากรณ์ {{statement.positive_resultcar}} %
            </h4>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

{% endblock %}
